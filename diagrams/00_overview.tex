\documentclass[convert={density=1200}]{standalone}
\usepackage{tikz}
\usetikzlibrary{shapes.geometric, arrows}

\tikzstyle{server} = [rectangle, rounded corners, text centered, draw=black, fill=green!30, inner sep=5pt]
\tikzstyle{node} = [rectangle, rounded corners, text centered, draw=black, fill=blue!30, inner sep=5pt]

\tikzstyle{server_message} = [thick, ->, >=stealth]
\tikzstyle{node_message} = [blue, dashed, ->, >=stealth]

\begin{document}

\begin{tikzpicture}

    \matrix [column sep = 10mm, row sep = 10mm] {
        \node (ncnode1) [node] {NCNode}; &
        \node (ncserver) [server] {NCServer}; &
        \node (ncnode2) [node] {NCNode}; \\
        \node (ncnode3) [node] {NCNode}; &
        \node (ncnode4) [node] {NCNode}; &
        \node (ncnode5) [node] {NCNode}; \\
    };

    \draw [server_message] (ncserver) -- (ncnode1);
    \draw [server_message] (ncserver) -- (ncnode2);
    \draw [server_message] (ncserver) -- (ncnode3);
    \draw [server_message] (ncserver) to [out=260, in=100] (ncnode4);
    \draw [server_message] (ncserver) -- (ncnode5);

    \draw [node_message] (ncnode1) to [out=30, in=150] (ncserver);
    \draw [node_message] (ncnode2) to [out=150, in=30] (ncserver);
    \draw [node_message] (ncnode3) to [out=0, in=240] (ncserver);
    \draw [node_message] (ncnode5) to [out=180, in=300] (ncserver);
    \draw [node_message] (ncnode4) to [out=80, in=280] (ncserver);

    \draw [white] (-1, -2.9) rectangle (1, -2.8);

    \draw (-3.5, -2.8) rectangle (0.5, -1.7);

    \node (label1a) at (-3.4, -2) {};
    \node [font=\small] (label1b) at (-1, -2) {NCServerMessage};

    \draw [server_message] (label1a) -- (label1b);

    \node (label2a) at (-3.4, -2.5) {};
    \node [font=\small] (label2b) at (-1, -2.5) {NCNodeMessage};

    \draw [node_message] (label2a) -- (label2b);

\end{tikzpicture}

\end{document}
